Titan API Gateway has been deployed!

Release: {{ .Release.Name }}
Namespace: {{ .Release.Namespace }}

{{- if .Values.ingress.enabled }}
Ingress is enabled. You can access Titan at:
{{- range .Values.ingress.hosts }}
  - http{{ if $.Values.ingress.tls }}s{{ end }}://{{ .host }}
{{- end }}
{{- else if eq .Values.service.type "LoadBalancer" }}
Service type is LoadBalancer. Get the external IP:

  export SERVICE_IP=$(kubectl get svc --namespace {{ .Release.Namespace }} {{ include "titan.fullname" . }} -o jsonpath='{.status.loadBalancer.ingress[0].ip}')
  echo "Titan is available at http://$SERVICE_IP:{{ .Values.service.port }}"

NOTE: It may take a few minutes for the LoadBalancer IP to be available.
{{- else if eq .Values.service.type "ClusterIP" }}
Service type is ClusterIP. Access Titan via port-forward:

  export POD_NAME=$(kubectl get pods --namespace {{ .Release.Namespace }} -l "{{ include "titan.selectorLabels" . | replace "\n" "," }}" -o jsonpath="{.items[0].metadata.name}")
  kubectl --namespace {{ .Release.Namespace }} port-forward $POD_NAME 8080:{{ .Values.config.server.port }}

  Then visit http://127.0.0.1:8080 in your browser
{{- end }}

Health check endpoint:
  curl http://localhost:8080/_health

Configuration:
  kubectl get configmap {{ include "titan.fullname" . }}-config -n {{ .Release.Namespace }} -o yaml

Pod status:
  kubectl get pods -n {{ .Release.Namespace }} -l {{ include "titan.selectorLabels" . | replace "\n" "," }}

Logs:
  kubectl logs -n {{ .Release.Namespace }} -l {{ include "titan.selectorLabels" . | replace "\n" "," }} -f

{{- if .Values.autoscaling.enabled }}
Auto-scaling is enabled ({{ .Values.autoscaling.minReplicas }}-{{ .Values.autoscaling.maxReplicas }} replicas):
  kubectl get hpa -n {{ .Release.Namespace }} {{ include "titan.fullname" . }}
{{- end }}

{{- if not .Values.tls.enabled }}
WARNING: TLS is disabled. For production use, enable TLS in values.yaml
{{- end }}

For more information, visit: https://github.com/JonathanBerhe/titan

Happy routing!
