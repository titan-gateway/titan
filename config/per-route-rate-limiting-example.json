{
  "server": {
    "worker_threads": 4,
    "listen_address": "0.0.0.0",
    "listen_port": 8080,
    "backlog": 128,
    "read_timeout": 60000,
    "write_timeout": 60000,
    "max_connections": 10000,
    "enable_tls": false
  },
  "routes": [
    {
      "path": "/api/public/*",
      "method": "GET",
      "upstream": "backend",
      "middleware": ["public_rate_limit"]
    },
    {
      "path": "/api/premium/*",
      "method": "GET",
      "upstream": "backend",
      "middleware": ["premium_rate_limit"]
    },
    {
      "path": "/api/admin/*",
      "method": "GET",
      "upstream": "backend",
      "middleware": ["admin_rate_limit"]
    },
    {
      "path": "/health",
      "method": "GET",
      "upstream": "backend"
    }
  ],
  "upstreams": [
    {
      "name": "backend",
      "backends": [
        {
          "host": "127.0.0.1",
          "port": 3001,
          "weight": 1,
          "max_connections": 1000
        }
      ],
      "load_balancing": "round_robin"
    }
  ],
  "rate_limits": {
    "public_rate_limit": {
      "enabled": true,
      "requests_per_second": 10,
      "burst_size": 20
    },
    "premium_rate_limit": {
      "enabled": true,
      "requests_per_second": 100,
      "burst_size": 200
    },
    "admin_rate_limit": {
      "enabled": true,
      "requests_per_second": 1000,
      "burst_size": 2000
    }
  },
  "cors": {
    "enabled": false
  },
  "logging": {
    "level": "info",
    "format": "json",
    "output": "/tmp/titan-per-route-rl.log"
  },
  "metrics": {
    "enabled": false
  },
  "version": "1.0",
  "description": "Example configuration demonstrating per-route rate limiting with three tiers: public (10 req/s), premium (100 req/s), admin (1000 req/s)"
}
